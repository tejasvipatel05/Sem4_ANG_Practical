<div class="container text-center">
    <h1>Form Builder</h1>
</div>
<form [formGroup]="StudentForm">
    <div class="ms-4">
        <div class="mb-3">
            <label class="form-label">Student Name:</label>
            <input type="name" class="form-control" name="userName" formControlName="StuName">
            <div *ngIf="StudentForm.get('StuName')?.errors?.['required'] && StudentForm.get('StuName')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Name.</div>

            <div *ngIf="StudentForm.get('StuName')?.errors?.['minlength']" [ngStyle]="{'color':'red'}">Student name
                should be more than 2 letters..</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Student Email address:</label>
            <input type="email" class="form-control" name="userEmail" formControlName="StuEmail">
            <div *ngIf="StudentForm.get('StuEmail')?.errors?.['required'] && StudentForm.get('StuEmail')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Email Address.</div>

            <div *ngIf="StudentForm.get('Stuemail')?.errors?.['pattern']" [ngStyle]="{'color':'red'}">
                Email Address should be valid.</div>

        </div>

        <div class="mb-3">
            <label class="form-label">Student Password:</label>
            <input type="password" class="form-control" name="userPassword" formControlName="StuPassword">
            <div *ngIf="StudentForm.get('StuPassword')?.errors?.['required'] && StudentForm.get('StuPassword')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Password.</div>

            <div *ngIf="StudentForm.get('StuPassword')?.errors?.['pattern']" [ngStyle]="{'color':'red'}">
                Password should contain specified pattern.</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Student Contact:</label>
            <input type="number" class="form-control" name="userContact" formControlName="StuContact">
            <div *ngIf="StudentForm.get('StuContact')?.errors?.['required'] && StudentForm.get('StuContact')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Contact.</div>

            <div *ngIf="StudentForm.get('StuContact')?.errors?.['minlength'] && StudentForm.get('StuContact')?.errors?.['maxlength'] && StudentForm.get('StuContact')?.errors?.['pattern']"
                [ngStyle]="{'color':'red'}">Contact should be exact 10 digits.</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Student SPI:</label>
            <input type="number" class="form-control" name="userSPI" formControlName="StuSpi">
            <div *ngIf="StudentForm.get('StuSpi')?.errors?.['required'] && StudentForm.get('StuSpi')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid SPI.</div>

            <div *ngIf="StudentForm.get('StuSpi')?.errors?.['min'] && StudentForm.get('StuSpi')?.errors?.['max']"
                [ngStyle]="{'color':'red'}">SPI must be between 0 to 10.</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Student Age:</label>
            <input type="number" class="form-control" name="userAge" formControlName="StuAge">
            <div *ngIf="StudentForm.get('StuAge')?.errors?.['required'] && StudentForm.get('StuAge')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Age.</div>

            <div *ngIf="StudentForm.get('StuAge')?.errors?.['min']"
                [ngStyle]="{'color':'red'}">Age should be more than 18.</div>
        </div>

        <div formArrayName="StuAddress">

            <div class="mb-3" *ngFor="let address of StuAddArray.controls; let i=index;" [formGroupName]="i">
                <label class="form-label">Student Address:</label>
                <input type="text" class="form-control" name="userAddress" formControlName="housename">
                <div *ngIf="StudentForm.get('StuAddress')?.errors?.['required'] && StudentForm.get('StuAddress')?.touched"
                [ngStyle]="{'color':'red'}">Please Enter Valid Address.</div>
            </div>
        </div>
        <button (click)="addAddressControl()">Add Address</button>
        <button (click)="removeAddressControl()">Remove Address</button>
        <button type="submit" class="btn btn-primary" [disabled]="StudentForm.invalid">Submit</button>
    </div>
</form>
{{StudentForm.value | json }}
